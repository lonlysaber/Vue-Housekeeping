<template>
  <div class="chart">
    <div class="top">
      <div class="title">
        本月收入(元)
        <div class="money">￥{{ count }}</div>
      </div>
    </div>
    <div class="middle">
      <div class="dateLine">
        <img :src="chart" alt="">
      </div>
    </div>
    <div class="bottom">
      <div class="orderList">
        <div class="orderItem" v-for="(item, index) in orderList" :key="index">
          <div class="service">
            {{ item.service.serviceBigType }}-{{
              item.service.serviceSmallType
            }}
          </div>
          <div class="date">
            {{ item.day }}
          </div>
          <div class="money">￥{{ item.money }}</div>
        </div>
      </div>
    </div>
  </div>
</template>
  
  <script>
export default {
  name: "KeeperChart",
  data() {
    return {
      count: 0,
      chart: require('../../../static/chart.png'), 
      orderList: [
        {
          orderId: 10001,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10001,
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677670411000,
          money: 120,
          payTime: 1678099894000,
          evaluateId: null,
          evaluateTime: 1678099897000,
          status: 2,
          statusDes: "待支付",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "2",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10001,
            serviceBigType: "家政服务",
            serviceSmallType: "大扫除新",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10001,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099897000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "2",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10002,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10002,
          day:'3-6',
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677756811000,
          money: 120,
          payTime: 1678099858000,
          evaluateId: null,
          evaluateTime: 1678099892000,
          status: 3,
          statusDes: "待评价",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "3",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10002,
            serviceBigType: "家政服务",
            serviceSmallType: "保洁做饭",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10002,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "3",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10003,
          userId: 10001,
          keeperId: 10002,
          serviceId: 10010,
          day:'3-7',
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677843211000,
          money: 150,
          payTime: 1678099858000,
          evaluateId: 10001,
          evaluateTime: 1678099892000,
          status: 6,
          statusDes: "已评价",
          evaluateDes: "已评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "6",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10002,
            keeperName: "王莲花",
            keeperPhone: "13170292978",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "18",
            keeperPwd: "123",
            star: 5,
            appointment: "",
            age: 50,
            nativePlace: "江西",
            feature: "",
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10010,
            serviceBigType: "家政服务",
            serviceSmallType: "厕所保洁",
          },
          evaluate: {
            evaluateId: 10001,
            orderId: 10003,
            userId: 10001,
            keeperId: 10002,
            evaluateStar: "4",
            evaluateDetail: "满意",
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "6",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10002,
              keeperName: "王莲花",
              keeperPhone: "13170292978",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "18",
              keeperPwd: "123",
              star: 5,
              appointment: "",
              age: 50,
              nativePlace: "江西",
              feature: "",
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10004,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10007,
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677843211000,
          money: 150,
          payTime: 1678099858000,
          evaluateId: null,
          evaluateTime: 1678099892000,
          status: 1,
          statusDes: "服务中",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "1",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10007,
            serviceBigType: "家政服务",
            serviceSmallType: "小时保洁",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10004,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "1",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10005,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10018,
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          day:'3-10',
          createTime: 1677843211000,
          money: 200,
          payTime: 1678099858000,
          evaluateId: 10023,
          evaluateTime: 1679557467000,
          status: 3,
          statusDes: "待评价",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "3",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10018,
            serviceBigType: "温馨保姆",
            serviceSmallType: "育婴师",
          },
          evaluate: {
            evaluateId: 10023,
            orderId: 10005,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: "5",
            evaluateDetail: "服务用心，又快又好",
            evaluateTime: 1679557467000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "3",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10006,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10015,
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677843211000,
          money: 120,
          payTime: 1678099858000,
          evaluateId: null,
          evaluateTime: 1678099892000,
          status: 5,
          statusDes: "已退款",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "5",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10015,
            serviceBigType: "家电清洗",
            serviceSmallType: "冰箱清洗",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10006,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "5",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10007,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10013,
          day:'3-15',
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677843211000,
          money: 120,
          payTime: 1678099858000,
          evaluateId: null,
          evaluateTime: 1678099892000,
          status: 3,
          statusDes: "待评价",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "3",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10013,
            serviceBigType: "家电清洗",
            serviceSmallType: "空调清洗",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10007,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "3",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10008,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10012,
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677843211000,
          money: 120,
          payTime: 1678099858000,
          evaluateId: null,
          evaluateTime: 1678099892000,
          status: 0,
          statusDes: "待服务",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "0",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10012,
            serviceBigType: "家电清洗",
            serviceSmallType: "热水器清洗",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10008,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "0",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
        {
          orderId: 10009,
          userId: 10001,
          keeperId: 10001,
          serviceId: 10009,
          day:'3-21',
          timeSlot: '{"start":"1678156195352",\r\n  "end":"1678156295352"}',
          timeSlotObj: {
            start: 1678156195352,
            end: 1678156295352,
          },
          createTime: 1677843211000,
          money: 220,
          payTime: 1678099858000,
          evaluateId: null,
          evaluateTime: 1678099892000,
          status: 3,
          statusDes: "待评价",
          evaluateDes: "暂无评价",
          user: {
            userId: 10001,
            userName: "张进哲",
            userPhone: "15170292977",
            userGender: "男",
            userAvatar: "#",
            userAddress: "江西省 南昌市 东湖区 1111",
            userPwd: "123",
            status: "3",
            regTime: 1677700224000,
            order: null,
          },
          keeper: {
            keeperId: 10001,
            keeperName: "刘冬香",
            keeperPhone: "13170292977",
            keeperGender: "女",
            keeperAvatar: "#",
            keeperType: "17",
            keeperPwd: "123",
            star: 5,
            appointment: null,
            age: 50,
            nativePlace: "江西",
            feature: null,
            introduce: "认真",
            years: 3,
            regTime: 1677700224000,
          },
          userName: null,
          keeperName: null,
          service: {
            serviceId: 10009,
            serviceBigType: "家政服务",
            serviceSmallType: "开荒保洁",
          },
          evaluate: {
            evaluateId: null,
            orderId: 10009,
            userId: 10001,
            keeperId: 10001,
            evaluateStar: null,
            evaluateDetail: null,
            evaluateTime: 1678099892000,
            user: {
              userId: 10001,
              userName: "张进哲",
              userPhone: "15170292977",
              userGender: "男",
              userAvatar: "#",
              userAddress: "江西省 南昌市 东湖区 1111",
              userPwd: "123",
              status: "3",
              regTime: 1677700224000,
              order: null,
            },
            keeper: {
              keeperId: 10001,
              keeperName: "刘冬香",
              keeperPhone: "13170292977",
              keeperGender: "女",
              keeperAvatar: "#",
              keeperType: "17",
              keeperPwd: "123",
              star: 5,
              appointment: null,
              age: 50,
              nativePlace: "江西",
              feature: null,
              introduce: "认真",
              years: 3,
              regTime: 1677700224000,
            },
          },
        },
      ],
    };
  },
  created(){
    this.fetchData()
  },
  onShow(){
    this.count = 0
    this.fetchData()
  },
  methods: {
    fetchData(){
        let tmp = []
        this.orderList.forEach(item=>{
            if(item.status=='3'||item.status=='6'){
                tmp.push(item)
                this.count += item.money
            }
        })
        this.orderList = tmp
    },
    onClick(id) {
      this.$emit("click", id);
    },
  },
};
</script>
  
  <style lang="scss" scoped>
.chart {
  background-color: #dadadc;
  padding: 10px;
  height: 100vh;
  .top{
    padding: 5px 10px;
    margin:5px 0;
    background-color: #fff;
    .title .money {
    font-size: 50px;
    }
  }
  .middle{
    padding: 5px 10px;
    background-color: #fff;
    .dateLine img{
        width: 100%;
    }
  }
  .bottom{
    .orderItem{
        padding: 5px 10px;
        margin:5px 0;
        background-color: #fff;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }
    
  }
  
}
</style>
  